http://172.31.134.165:3000/



@张云 负责前端nextjs开发，@黄仲婷  **@王凯杰  负责后端springboot的开发**

优化需求1：后端执行SQL获取结果后，根据取前五条数据、生成的sql、原问题 ，进行二次调用大模型进行二次确认和优化，生成新的sql语句。如果之前执行SQL报错，则把报错信息、生成的sql、原问题给大模型进行二次确认和优化。 负责人： @黄仲婷 

优化需求2：最后后端返回数据，需要多返回一个summary字段，用ai对数据和sql进行一个100字以内的总结说明，总结说明也显示在前端。 后端负责人 @黄仲婷  前端负责人 @张云 

优化需求3：**目前缺考主题只配置了2张表，后续会加上消费数据、上网数据、学生信息等数据表。如果全部把表结构作为prompt喂给AI效果可能会很差。所以表选择这里要分成2阶段处理，第一阶段先让大模型根据问题选择相关的表，而不是全部配置表；第二阶段再获取对应表结构生成sql 。后端负责人 @王凯杰** 

还有一个优化需求4：**目前prompt里会把示例数据、以及前五条数据当做prompt喂给大模型，涉及数据风险；或者表注释缺失，表字段过多导致大模型质量下降。所以要设计一个TEXT2SQL_TABLE_META这样一个元数据表，记录表名、表字段、是否敏感字段、中文注释补充、是否关键字段等信息，通过这张表来优化tableDetails的prompt（敏感数据脱敏、补充中文注释，省去非关键字段等）。 也交给凯杰来做吧**![img](./354a7c1f-0ce6-4b3b-aecb-294d7489772a.png) @王凯杰 